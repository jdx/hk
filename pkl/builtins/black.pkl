import "../Builtins.pkl"
import "../Config.pkl"
import "./test/helpers.pkl"

@Builtins.meta {
  category = "Python"
  description = "Opinionated Python formatter"
}
black = new Config.Step {
  glob = List("**/*.py")
  stage = "<JOB_FILES>"
  check = "black --check {{ files }}"
  check_diff = "black --check --diff {{ files }}"
  fix = "black {{ files }}"
  tests {
    ...new helpers.Fix {
      filename = "test.py"
      before = "x=1"
      after = "x = 1\n"
    }.suite
  }
}
