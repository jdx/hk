import "../Builtins.pkl"
import "../Config.pkl"
import "./test/helpers.pkl"

@Builtins.meta {
  category = "Data Formats"
  description = "YAML linter"
}
yamllint = new Config.Step {
  glob = List("**/*.yml", "**/*.yaml")
  check = "yamllint {{ files }}"
  tests {
    ...new helpers.Check {
      filename = "test.yaml"
      bad = "x: 1\nx: 2\n"
      good = "x: 1\n"
    }.suite
  }
}
