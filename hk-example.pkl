amends "package://github.com/jdx/hk/releases/download/v0.3.3/hk@0.3.3#/Config.pkl"
import "package://github.com/jdx/hk/releases/download/v0.3.3/hk@0.3.3#/builtins/prettier.pkl"

linters {
    // hooks can be manually defined
    ["eslint"] {
        // the files to run the hook on, if no files are matched, the hook will be skipped
        // this will filter the staged files and return the subset matching these globs
        glob = new { "*.js"; "*.ts" }
        // a command that returns non-zero to fail the step
        check = "eslint {{files}}"
    }
    // hooks can also be specified with the builtins pkl library
    ["prettier"] = new prettier.Prettier {}
}

hooks {
    ["pre-commit"] = new { ["fix"] = new Fix {} }
    ["pre-push"] = new { ["check"] = new Check {} }
}
